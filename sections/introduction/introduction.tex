\chapter{Introduction}


%-------------------------------------------------------------------------------

In order to explore the full potential of the ATLAS~\cite{PERF-2007-01}
calorimeter system \textcolor{red}{to detect electrons
and photons and measure their properties}, considerable effort has been placed in deriving and
improving descriptive and discriminating variables\footnote{Terminology somewhat
  varies within ATLAS literature, also possible to encounter other terms such
as ``quantities'' or ``features'' (the latter more related to the trigger
perspective) with the same meaning.}. Physics and calorimetry expertise,
combined with in-depth knowledge of the ATLAS design, allows to summarize the \textcolor{red}{tridimensional} information of the shower development in a set of few
variables (i.e. offline electron identification uses seven calorimetry-only
variables~\cite{aaboud2019electron}). These variables are mostly defined in
terms of elementary operations (i.e multiplication and sums) using \textcolor{red}{a group of cells provided by the calorimeter
design, and} conceived to explore
\textcolor{red}{distinct aspects of the shower development. Thus, this feature extraction process allows to
compact the high-dimensional input space (typically of 1,000 cells in a region-of-interest\textcolor{red}{\footnote{\textcolor{red}{A region in which a calorimeter cluster with high transverse energy was detected ~\cite{CERN-LHCC-2017-020}}}}) into seven comprehensive descriptive variables, which compose a highly discriminant input space to distinguish e/$\gamma$ from jets, thanks to the way they were defined}.
%Furthermore, together with their discriminative power, these variables have a
%clear value for permitting the interpretation of the results on a limited set of
%univariate analyses.

%However, relying only on these variables for particle identification puts too
%much weight on their construction. In other words, besides the interpretation
%capability, it is required that they capture all discriminative information of
%the shower propagation. Therefore, being more flexible, it is possible to create
%patterns that capture discriminative and comprehensive information in a more
%general term, while still compacting the input space through the use of physics
%and calorimetry knowledge.

\textcolor{red}{In this paper, we discuss} the representation of \textcolor{red}{calorimeter} information formatted into concentric ring energy sums, which are built around \textcolor{red}{the incoming} particle axis through summing the energy deposited in a ring around the track that was seeded by the first trigger level and defined from given parameters in $\phi$ and $\eta$ coordinates\footnote{\textcolor{red}{ATLAS uses a right-handed coordinate system with its origin at the nominal interaction point (IP) in the centre of the detector and the z-axis along the beam-pipe. The x-axis points from the IP to the centre of the LHC ring, and the y-axis points upward. Cylindrical coordinates (r, $\phi$) are used in the transverse plane, \phi being the azimuthal angle around the beam-pipe. The pseudorapidity is defined in terms of the polar angle $\theta$ as \eta = -$\ln{tan(\theta/2)}$. The angular distance $\Delta R$ is defined as $\Delta R = \sqrt{(\Delta\eta)^{2} + (\Delta\phi)^{2}}$ . Transverse momenta and energies are defined as $pT = p\sin\theta$ and $E_{T}$ = $E\sin\theta$, respectively.}}. In such a way, the approximate conic development of the shower is exploited to compact the information while maintaining the physics interpretation of its lateral and longitudinal information. The representation of the shower through ring sums is a concept prior ~\cite{1992_spacal_rings} to the ATLAS formal proposal. It was conceived to reduce efforts in handling analogue signals and, as a result, it is suitable to be employed as input space in early trigger stages, where discriminant variables are derived through simple operations.


%\textcolor{red}{We discuss} the representation of calorimetry information formatted into
%concentric ring energy sums built around the particle axis. In such a way, the
%approximate conic development of the shower is exploited to compact the
%information while maintaining the physics interpretation of its lateral and
%longitudinal information. The representation of the shower through
%ring sums\textcolor{red}{, which is the sums of the energy deposited in a ring around a track that is seeded by first trigger level defined with some parameters in $\phi$/$\eta$,} is a concept prior~\cite{1992_spacal_rings} to the ATLAS formal
%proposal~\cite{1995_seixas_ringer}. It was conceived to reduce efforts in
%handling analogue signals and, as a result, it is suitable to be employed as
%input space in early trigger stages, where discriminant variables are derived
%through simple operations.



\textcolor{red}{Having described the shower development through such concentric ring sums,  artificial neural networks (ANN) are employed for hypothesis testing.  ANNs are well-known universal models ~\cite{haykin_2008} that provide a multivariate approach for handling the joint information in the input space through fast computations.  ANNs have been successful in exploiting nonlinear correlations in data \textcolor{red}{~\cite{Duda}}. Specifically, due to shower development nature and the calorimeter structure, the nearby ring sums are not statistically independent}. Consequently, approximate inference approaches neglecting their dependencies can result in significant efficiency loss. This is the particular case of the electron benchmark methods constructed using a cut-based approach or a likelihood discriminant \textcolor{red}{assuming statistical independence of the different variables, despite the correlations that exist among cells}.  Hence, a neural network approach based on the ring sums (\rnn{} algorithm) provides a computationally fast and powerful method for exploring calorimetry signatures \textcolor{red}{and the corresponding correlations between input variables}. Actually, stringent online requirements have been considered essential in the \rnn{} design since its original formulation~\cite{1995_seixas_ringer}, and it has been maintained along the years even without a corresponding offline version.


%Having extracted calorimeter features through such concentric rings, the
%employment of neural processing for hypothesis testing has some advantages.
%\textcolor{red}{The usage of neural network algorithms can be demonstrated to have some advantages.}
%Artificial neural-networks~\cite{haykin_2008} are well-known universal models that provide
%a multi-variate approach for handling the joint information in the
%input space through fast computations, in particular nonlinearly correlated data
%such as the rings. Specifically, \textcolor{red}{, due to shower development nature and the calorimeter structure, the} nearby ring sums to
%be statistically dependent, both laterally and longitudinally. Consequently, approximate inference approaches neglecting
%these dependencies can result in significant efficiency loss. This is the
%particular case of the electron benchmark methods based on \textcolor{red}{cut-based approach} or on a likelihood discriminant based on
%independence. Hence, a neural network approach based on the ring sums  (\rnn)
%provides a computationally fast and powerful method for exploring calorimetry
%signatures.  Actually, stringent online requirements have been considered
%essential in the \rnn design since its formulation~\cite{1995_seixas_ringer},
%and it has been maintained along the years even without a corresponding offline
%version.



%In the ATLAS trigger system~\cite{TRIG-2016-01}, low latency online selection
%steps are required for decreasing both processing and readout demand of
%resources by early removal of simpler background, whereas the final decision
%mainly controls the system output rate. In case the trigger system reaches its
%full processing resources, to envisage significant improvements of the selection
%efficiency of early selection algorithms is an efficient solution to release
%resources. Accordingly, these resources can be employed on other physics
%objects or allow the usage of more complex algorithms at later stages in order
%to increase the overall system performance. Moreover, it may turn feasible the
%evaluation of unprecedented physics objects, \textcolor{red}{such as jet substructures %or improved calibration,} which could not be properly
%assessed due to processing and readout limitations.


Among the ATLAS physics objects, the \rnn{} was developed for electrons targeting \textcolor{red}{to meet the processing demands} of the trigger system, which is split into two processing levels.  For electron identification, the inner tracking detector (ID)~\cite{PERF-2007-01} is a complementary source of discriminant \textcolor{red}{information} but \textcolor{red}{it} requires higher processing resources given its much denser readout structure.  Therefore, as a way to achieve lower latency for electron triggering, early discrimination evaluates only calorimetry information. This is the case of the first processing level (\licalo), based on hardware, which provides \SI{}2.5{$\mu$\text{s}} latency~\cite{TRIG-2016-01}. In the sequence, the software-based level-two algorithms are processed in the so-called high-level trigger (\hlt{}) employing calorimetry and, then, after a pre-selection, ID information.  

The \hlt{} is also split into two stages: a fast but efficient computation followed by a precise processing block, \textcolor{red}{which employs offline inspired algorithms that are adapted to the stringent conditions of the trigger system.} 
The \rnn{} was developed for electrons as a way to achieve early discrimination evaluates based only on calorimetry information. It was implemented in the fast reconstruction step of the High Level Trigger (HLT), which is going to be described later.  Since the early~\cite{1995_seixas_ringer}, the \rnn{} was proposed and has been
pursued as an alternative to the cut-based approach, which relies on the standard shower shape variables (see Section~\ref{ssec:std_variables}).

%Since the early ATLAS design years~\cite{1995_seixas_ringer}, the \rnn{} was proposed and maintained for the first \hlt{} selection step, relying only on calorimetry information (\fastcalo{} in the current \hlt{} structure)~\cite{TRIG-2016-01}. 




%\textcolor{red}{The \rnn{} was developed for electrons as a way to achieve early discrimination evaluates based only calorimetry information. It was implemented in the fast reconstruction step of the High Level Trigger (HLT), which is going to be described later. the so-called high-level trigger (HLT). Since the early ATLAS design years, the \rnn{} was proposed and  maintained for the first HLT selection step, relying only on calorimetry information (\fastcalo{} in the current \hlt{} structure)~\cite{TRIG-2016-01}.  Such a development was pursued as an alternative to cut-based approach, which relies on the standard shower shape variables (see Section~\ref{ssec:std_variables})}.

The preparation for data taking in 2017 revealed that the considerable increase in the number of inelastic collisions per bunch-cross \textcolor{red}{(here, the online estimation is referred to as $\langle \mu \rangle$)}~\cite{DAPR-2013-01} would require dealing with excessive strain of CPU resources in the trigger system~\cite{ATL-DAQ-PUB-2018-002}, which would impact reduced efficiency for a number of analyses. Particularly, it was more likely for target  signals to overlap in the \textcolor{red}{detector (pile-up effect), hence deteriorating the identification efficiency. Thus, for allowing a more efficient selection under such conditions, the \rnn{} became the baseline selection of events containing at least one isolated electron above \SI{15}{\GeV} in proton-proton collisions.


%However, the preparation for data taking in 2017 required to deal with
%excessive strain of CPU resources in the trigger
%system~\cite{ATL-DAQ-PUB-2018-002} culminating
%from the denser detector occupancy, a side effect of the increase in the number
%of inelastic collisions per bunch-cross (online estimation given by
%\avgmu{})~\cite{DAPR-2013-01}. Particularly, not only there are more signatures
%to be analysed but, also, it is more likely for their signals to overlap in the
%detector (pile-up effect), hence deteriorating identification efficiency. For
%allowing a more efficient selection under such conditions, \rnn{} became the
%baseline selection of events containing at least one isolated electron above
%\SI{15}{\GeV} in proton-proton collisions.
%to recover processing resources through a more discriminant selection
%and, thus, aiding for a successful operation


This paper describes the proposal and performance analyses of the \rnn{}
algorithm \textcolor{red}{used} in the fast processing phase of the \hlt{}. 
The ATLAS detector is described in Section~\ref{sec:atlas}. A review
of other relevant background information is available in
Section~\ref{sec:context}, in particular: the electron
trigger and related information. Full details of its identification procedure are
in Section~\ref{sec:neuralringer}. The training and tuning strategy follow in
Section~\ref{sec:tuning}, also contemplating its improvements for 2018
operation. Section~\ref{sec:operation} dedicates to the efficiency measurements,
describing the expected and experimental results. Comparison of the \rnn with
the cut-based triggers using statistical methods through the offline perspective
is performed in Section~\ref{sec:off_ana}. Finally, the conclusions and prospects 
are derived in Section~\ref{sec:conclusion}.


%Further information in the following topics are available in the note
%appendixes: a brief overview of the \rnn{} history (Appendix~\ref{sec:history}),
%a computational intelligence perspective of the \rnn{} ensemble
%(Appendix~\ref{sec:ml_ensemble}), the \rnn{} tuning work-flow and underlying
%frameworks (Appendix~\ref{sec:workflow}), additional trigger cost considerations
%(Appendix~\ref{sec:additional_trigger_cost}), supplementary studies including
%\rnn{} developments for triggering on electron with $\et{} < \SI{15}{\GeV}$ and
%employing only electromagnetic calorimeter information
%(Appendix~\ref{sec:supplementary_studies}) and the auxiliary or record-keeping
%material (Appendix~\ref{sec:aux_mat}).


