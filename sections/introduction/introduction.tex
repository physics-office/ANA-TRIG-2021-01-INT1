\chapter{Introduction}

Electrons and photons are present in many Standard Model processes as well as in searches for phenomena beyond the Standard Model. The ATLAS physics programme relies on an efficient trigger system to record a highly signal-rich subset of all collision events produced by the Large Hadron Collider (LHC) at CERN.

The ATLAS detector~\cite{PERF-2007-01} is a multipurpose particle detector. The inner-detector (ID) system is immersed in a 2T  axial magnetic field and provides charged-particle tracking in the range $|\eta|<2.5$.  Three technologies are employed, with thinner granularity nearer to the interaction point~\cite{PERF-2015-08,CERN-LHCC-97-016,Haywood:331064}: a Pixel Detector (92 million channels), a Silicon Microstrip Detector (SCT, 6.3 million channels) and a Transition Radiation Detector (TRT, 350 thousand 189 channels). The TRT offers electron identification capability within its pseudorapidity coverage ($|\eta|\leq 2$) via the detection of transition-radiation photons generated at the interface between the radiator material and detection straws. Track reconstruction requires CPU intensive computations due to the complexity of image-processing algorithms fighting against combinatorial backgrounds when associating hits to tracks~\cite{PERF-2015-08}. In 2016, it was the second most-demanding reconstruction algorithm in the HLT.

Lead/liquid-argon (LAr) sampling calorimeters provide electromagnetic (EM) energy measurements with fine-grained granularity~\cite{LARG-2009-01,larg_tdr}. A steel/scintillator-tile hadron calorimeter covers the central pseudorapidity range ($|\eta|< 1.7$)~\cite{TCAL-2017-01,tile_tdr}. The endcap and forward regions are instrumented with LAr calorimeters for both the EM and hadronic energy measurements up to $|\eta|< 4.9$. The muon spectrometer surrounds the calorimeters and is based on three large superconducting air-core toroidal magnets with eight coils each.  The muon spectrometer includes a system of precision chambers for tracking and fast detectors for triggering. 

A hierarchical two-level trigger system is used to select events of interest produced by the collisions~\cite{aad2020performance}. The fist-level (L1) trigger, implemented with custom-made electronics located on the detector, utilises coarser granularity from the calorimeters to reduce the event rate from 40 MHz bunch crossing rate to below 100 kHz. The L1 level also defines regions-of-interest (RoIs)~\cite{CERN-LHCC-2017-020}, which have calorimeter clusters with high transverse energy. The RoIs accepted by L1 are processed by the high-level trigger (HLT), based on algorithms implemented in software. It operates from a large farm and should reduce the number of events written to disk to an average rate about 1 kHz. During the LHC Run 2 (2015â€“2018), the ATLAS trigger system operated with approximately 1,500 individual event selections, which specified the physics signatures (photons, electrons, muons, others) and selection algorithms used for the data-taking, and the allocated event rate and bandwidth.

For electron selection, the \hlt{} is split into two stages: a fast but efficient computation followed by a precise processing, which employs offline inspired algorithms that are adapted to the stringent conditions of the trigger system. The inner tracking detector (ID)~\cite{PERF-2007-01} is a complementary source of discriminant information, but it requires higher processing resources given its much denser readout structure.  Therefore, as a way to achieve lower latency for electron triggering, early discrimination evaluates only calorimetry information in each stage.


In order to explore the full potential of the ATLAS~\cite{PERF-2007-01}
calorimeter system to detect electrons and photons and measure their properties, considerable effort has been placed in deriving and improving descriptive and discriminating variables\footnote{Terminology somewhat varies within ATLAS literature, also possible to encounter other terms such as ``quantities'' or ``features'' (the latter more related to the trigger
perspective) with the same meaning.}. Physics and calorimetry expertise,
combined with in-depth knowledge of the ATLAS design, allows to summarize the tridimensional information of the shower development in a set of few
variables (i.e. offline electron identification uses seven calorimetry-only
variables~\cite{aaboud2019electron}). These variables are mostly defined in
terms of elementary operations (i.e multiplication and sums) using a group of cells provided by the calorimeter
design, and conceived to explore distinct aspects of the shower development. Thus, this process allows to compact the high-dimensional input space (typically of 1,000 cells in a RoI) into seven comprehensive descriptive variables, which compose a highly discriminant input space to distinguish e/$\gamma$ from jets, thanks to the way they were defined.

In this paper, we discuss the representation of calorimeter information formatted into concentric ring energy sums, which are built around the incoming particle axis through summing the energy deposited in a ring around the track that was seeded by the first trigger level and defined from given parameters in $\phi$ and $\eta$ coordinates\footnote{ATLAS uses a right-handed coordinate system with its origin at the nominal interaction point (IP) in the centre of the detector and the z-axis along the beam-pipe. The x-axis points from the IP to the centre of the LHC ring, and the y-axis points upward. Cylindrical coordinates (r, $\phi$) are used in the transverse plane, \phi being the azimuthal angle around the beam-pipe. The pseudorapidity is defined in terms of the polar angle $\theta$ as \eta = -$\ln{tan(\theta/2)}$. The angular distance $\Delta R$ is defined as $\Delta R = \sqrt{(\Delta\eta)^{2} + (\Delta\phi)^{2}}$ . Transverse momenta and energies are defined as $pT = p\sin\theta$ and $E_{T}$ = $E\sin\theta$, respectively.}. In such a way, the approximate conic development of the shower is exploited to compact the information while maintaining the physics interpretation of its lateral and longitudinal information. The representation of the shower through ring sums is a concept prior ~\cite{1992_spacal_rings} to the ATLAS formal proposal. It was conceived to reduce efforts in handling analogue signals and, as a result, it is suitable to be employed as input space in early trigger stages, where discriminant variables are derived through simple operations.


Having described the shower development through such concentric ring sums,  artificial neural networks (ANN) are employed for hypothesis testing.  ANNs are well-known universal models ~\cite{haykin_2008} that provide a multivariate approach for handling the joint information in the input space through fast computations and exploiting nonlinear correlations in data~\cite{Duda}. Specifically, due to shower development nature and the calorimeter structure, the nearby ring sums are not statistically independent. Consequently, approximate inference approaches neglecting their dependencies can result in significant efficiency loss. This is the particular case of the electron benchmark methods constructed using a cut-based approach or a likelihood discriminant assuming statistical independence of the different variables, despite the correlations that exist among cells.  Hence, a neural network approach based on the ring sums (\rnn{} algorithm) provides a computationally fast and powerful method for exploring calorimetry signatures and the corresponding correlations between input variables. Actually, stringent online requirements have been considered essential in the \rnn{} design since its original formulation~\cite{1995_seixas_ringer}, and it has been maintained along the years even without a corresponding offline version.

The \rnn{} was developed for electrons as a way to achieve early discrimination evaluates based only on calorimetry information. It was implemented in the fast step of the HLT, which is going to be described later. Since the early work~\cite{1995_seixas_ringer}, the \rnn{} was proposed and has been pursued as an alternative to the cut-based approach, which relies on the standard shower shape variables (see Section~\ref{ssec:std_variables}).


The preparation for data taking in 2017 revealed that the considerable increase in the number of inelastic collisions per bunch-cross (here, the online estimation is referred to as $\langle \mu \rangle$)~\cite{DAPR-2013-01} would require dealing with excessive strain of CPU resources in the trigger system~\cite{ATL-DAQ-PUB-2018-002}, which would impact reduced efficiency for a number of analyses. Particularly, it was more likely for target  signals to overlap in the detector (pile-up effect), hence deteriorating the identification efficiency. Thus, for allowing a more efficient selection under such conditions, the \rnn{} became the baseline selection of events containing at least one isolated electron above \SI{15}{\GeV} in proton-proton collisions.

This paper describes the proposal and performance analyses of the \rnn{}
algorithm used in the fast processing phase of the \hlt{}. A review
of other relevant background information is available in
Section~\ref{sec:context}, in particular: the electron
trigger and related information. Full details of its identification procedure are
in Section~\ref{sec:neuralringer}, including the training and tuning strategies and also contemplating the improvements for 2018 operation. Section~\ref{sec:operation} dedicates to the efficiency measurements, describing the expected and experimental results. Comparison of the \rnn with
the cut-based triggers using statistical methods through the offline perspective
is performed in Section~\ref{sec:off_ana}. Finally, the conclusions and prospects 
are derived in Section~\ref{sec:conclusion}.





